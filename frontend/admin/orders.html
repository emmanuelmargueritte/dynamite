<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Admin â€” Commandes | Dynamite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/css/admin.css?v=1">
</head>

<body class="admin">

  <div id="admin-header"></div>

  <div style="display:flex; align-items:flex-end; justify-content:space-between; gap:16px; flex-wrap:wrap;">
    <div>
      <h1 style="margin:0;">ğŸ“¦ Commandes</h1>
      <p class="muted" style="margin:6px 0 0;">
  Clic sur une ligne = aperÃ§u Â· / focus recherche Â· EntrÃ©e chercher Â· Ã‰chap reset Â· d/m tri Â· Alt+â†/â†’ pages
  Â· <a class="admin-link" href="/admin/orders-help.html">Aide</a>
</p>

    </div>

    <div style="display:flex; gap:10px; align-items:flex-end; flex-wrap:wrap;">
      <label class="muted" style="display:flex; flex-direction:column; gap:6px;">
        Recherche
        <input id="q" placeholder="id, session_id, stripeâ€¦" list="qSuggestions" autocomplete="off" />
        <datalist id="qSuggestions"></datalist>
      </label>

      <label class="muted" for="statusFilter" style="display:flex; flex-direction:column; gap:6px;">
        Statut
        <select id="statusFilter">
          <option value="">Tous</option>
          <option value="paid">PAID</option>
          <option value="pending">PENDING</option>
        </select>
      </label>

      <button id="exportCsv" type="button">â¬‡ï¸ Export CSV</button>
    </div>
  </div>

  <div class="table-scroll" style="margin-top:16px;">
  <table class="admin-table orders-table">
    <thead>
      <tr>
        <th class="th-sort" data-sort="created_at">Date <span id="sortDate" class="sort-ind">â†•</span></th>
        <th>Articles</th>
        <th>QuantitÃ©</th>
        <th class="th-sort" data-sort="amount_xpf">Montant <span id="sortAmount" class="sort-ind">â†•</span></th>
        <th>Statut</th>
        <th></th>
      </tr>
    </thead>

    <tbody id="orders">
      <tr><td colspan="6">Chargement des commandesâ€¦</td></tr>
    </tbody>
  </table>
</div>

  <div class="pager">
    <div class="pager-inner">
      <button id="prevPage" type="button">â†</button>
      <span id="pageInfo" class="muted">Page 1</span>
      <button id="nextPage" type="button">â†’</button>
    </div>
  </div>

  <!-- âœ… AperÃ§u (modal) -->
  <div id="previewOverlay" class="modal-overlay hidden" aria-hidden="true"></div>

  <aside id="previewPanel" class="modal-panel hidden" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
    <div class="modal-head">
      <div>
        <div id="previewTitle" class="modal-title">AperÃ§u commande</div>
        <div id="previewMeta" class="muted" style="margin-top:4px;">â€”</div>
      </div>

      <button id="previewClose" type="button" class="admin-link btn-link">âœ•</button>
    </div>

    <div id="previewActions" style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;"></div>

    <div class="modal-body">
      <table class="admin-table" style="margin-top:12px;">
        <thead>
          <tr>
            <th>Image</th>
            <th>Produit</th>
            <th>QtÃ©</th>
            <th>PU</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="previewItems">
          <tr><td colspan="5" class="muted">SÃ©lectionne une commandeâ€¦</td></tr>
        </tbody>
      </table>
    </div>
  </aside>

  <script src="/admin/js/admin-orders.js"></script>
  <script src="/admin/js/admin-layout.js"></script>
</body>
</html>
